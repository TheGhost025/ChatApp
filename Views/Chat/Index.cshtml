@section Style {
    <link rel="stylesheet" href="~/css/chat.css" />
}

<div class="container">
    <!-- Search Bar for Searching New Users -->
    <form asp-action="LogOut" asp-controller="Account" method="post">
        <button type="submit" class="btn btn-danger">Log Out</button>
    </form>

    <div class="search-bar-new">
        <input type="text" id="searchNewUserInput" placeholder="Search for new users..." />
    </div>

    <div id="searchResults" class="search-results"></div>

    <!-- Notification Alert Container -->
    <div id="notification-alert" class="notification-alert" style="display: none;">
        <span id="alert-message"></span>
        <button onclick="closeAlert()">Close</button>
    </div>


    <div class="sidebar">
        <!-- Profile Picture, Chats, Groups -->
        <div class="profile">
            <img id="userImage" src="~/images/b3c5c832-0fc8-4618-9c4f-54bd05dffebd_Screenshot 2024-05-05 044508.png" alt="Profile" />
            <h3 id="userName">Mazen</h3>
            <!-- Toggle Friend Requests Button -->

            <button id="toggle-friend-requests" class="toggle-button">
                <i class="fa-solid fa-user-group" id="toggle-icon"></i>
                <span id="numberofPendingFriends">0</span>
            </button>

            <button id="toggle-friend-pending-requests" class="toggle-button">Show Pending Friend Requests</button>
            <button id="createGroupButton" class="toggle-button">Create Group</button>
        </div>
        <!-- Search Bar for Friends and Groups -->
        <div class="search-bar">
            <input type="text" id="searchFriendsInput" placeholder="Search Friends or Groups..." />
            <button id="searchFriendsButton">Search</button>
        </div>

        <!-- Tabs for Recent, Groups, and Friends -->
        <div class="tabs">
            <button class="tab" onclick="showTab('recent')">Recent</button>
            <button class="tab" onclick="showTab('groups')">Groups</button>
            <button class="tab" onclick="showTab('friends')">Friends</button>
        </div>

        <!-- Lists of Chats for each Tab -->
        <div class="chats-list" id="recentTab">
            <!-- Recent Chats -->
            <div>Chat 1</div>
            <div>Chat 2</div>
        </div>

        <div class="groups-list" id="groupsTab" style="display:none;">
            <!-- Group Chats -->
            <div>Group 1</div>
            <div>Group 2</div>
        </div>

        <div class="friends-list" id="friendsTab" style="display:none;">
            <!-- Friends List -->
            <div>Friend 1</div>
            <div>Friend 2</div>
        </div>
    </div>

    <!-- Friend Requests Section -->
    <div class="friend-requests" id="friend-requests-container" style="display: none;">
        <h3>Friend Requests</h3>
        <div id="friendRequestsList">
            <!-- Friend request items will be dynamically added here -->
        </div>
    </div>

    <!-- Friend Requests Section -->
    <div class="friend-requests" id="friend-pending-requests-container" style="display: none;">
        <h3>Pending Friend Requests</h3>
        <div id="friendRequestsListpending">
            <!-- Friend request items will be dynamically added here -->
        </div>
    </div>

    <!-- Group creation modal -->
    <div id="createGroupModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Create New Group</h2>

            <label for="groupNameInput">Group Name:</label>
            <input type="text" id="groupNameInput" placeholder="Enter group name" />

            <label for="groupImageInput">Group Image:</label>
            <input type="file" id="groupImageInput" accept="image/*" />

            <h3>Select Members</h3>
            <div id="friendsListForGroup">
                <!-- Friend list items will be dynamically added here -->
            </div>

            <h3>Select Admin</h3>
            <select id="adminSelect">
                <!-- Options will be dynamically added -->
            </select>

            <button id="createGroupSubmitButton" class="btn-submit">Create Group</button>
            <button id="cancelGroupButton" class="btn-cancel">Cancel</button>
        </div>
    </div>

    <div class="chat-input-container" id="chat-container">

        <div class="profile">
            <img id="reciverImage" src="~/images/735064ea-a89b-4940-9bf5-47e7f076c482_Screenshot 2024-05-04 023023.png" alt="Profile" />
            <h2 id="reciverName">Mazenk</h2>
        </div>

        <div class="chat-window">
            <!-- Chat messages will go here -->
            <div id="messagesList">
                <div class="message sent">
                    <p>Hello, how are you?</p>
                </div>
                <div class="message received">
                    <p>I'm doing well, thank you!</p>
                </div>
            </div>
        </div>

        <div class="chat-input">
            <input type="text" id="messageInput" placeholder="Type a message">
            <input type="file" id="fileInput" accept="image/*,video/*,audio/*">
            <button id="sendButton" class="btn-send">Send</button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/signalr.min.js"></script>

    <script src="~/js/chat.js"></script>
}